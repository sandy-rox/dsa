let invoices = [{ "lc_uuid": "bec994f8-b09d-56c0-8841-37ea87b37296", "invoice_id": 4209130, "ctype": "attendanceBased", "month": 3, "year": 2022, "status": "created", "invoice_number": "4", "invoice_media_id": [546575], "docs": [{ "id": 1, "status": "u", "docName": "attendanceRegister", "autoGenerated": true, "documentAttachment": [546577] }, { "id": 2, "status": "u", "docName": "wageRegister", "autoGenerated": true, "documentAttachment": [546578] }, { "id": 3, "status": "0", "docName": "epfEcr" }, { "id": 4, "status": "0", "docName": "epfChallan" }, { "id": 5, "status": "0", "docName": "epfPaymentReceipt" }, { "id": 6, "status": "0", "docName": "esicEcr" }, { "id": 7, "status": "0", "docName": "esicPaidChallan" }, { "id": 8, "status": "0", "docName": "gstChallan" }, { "id": 9, "status": "0", "docName": "lwfChallan" }, { "id": 10, "status": "0", "docName": "professionTaxChallan" }], "lcid": 4208967, "totalPayable": 85398.92, "other_item": { "gstAmount": 0, "cgstAmount": 0, "igstAmount": 0, "sgstAmount": 0, "payableAmount": 200, "taxableAmount": 200, "chargeableAmount": 200, "serviceChargeAmount": 0 } }, { "lc_uuid": "4928ab4a-6280-5eec-95b3-73a15a377ae3", "invoice_id": 4209131, "ctype": "attendanceBased", "month": 3, "year": 2022, "status": "created", "invoice_number": "5", "invoice_media_id": [546576], "docs": [{ "id": 1, "status": "u", "docName": "attendanceRegister", "autoGenerated": true, "documentAttachment": [546597] }, { "id": 2, "status": "u", "docName": "wageRegister", "autoGenerated": true, "documentAttachment": [546598] }, { "id": 3, "status": "0", "docName": "epfEcr" }, { "id": 4, "status": "0", "docName": "epfChallan" }, { "id": 5, "status": "0", "docName": "epfPaymentReceipt" }, { "id": 6, "status": "0", "docName": "esicEcr" }, { "id": 7, "status": "0", "docName": "esicPaidChallan" }, { "id": 8, "status": "0", "docName": "gstChallan" }, { "id": 9, "status": "0", "docName": "lwfChallan" }, { "id": 10, "status": "0", "docName": "professionTaxChallan" }], "lcid": 4208968, "totalPayable": 23739.38, "other_item": { "gstAmount": 0, "cgstAmount": 0, "igstAmount": 0, "sgstAmount": 0, "payableAmount": 200, "taxableAmount": 200, "chargeableAmount": 200, "serviceChargeAmount": 0 } }, { "lc_uuid": "bec994f8-b09d-56c0-8841-37ea87b37296", "invoice_id": 4209136, "ctype": "attendanceBased", "month": 3, "year": 2022, "status": "created", "invoice_number": "10", "invoice_media_id": [546587], "docs": [{ "id": 1, "status": "a", "docName": "attendanceRegister", "autoGenerated": true, "documentAttachment": [546589] }, { "id": 2, "status": "0", "docName": "wageRegister" }, { "id": 3, "status": "0", "docName": "epfEcr" }, { "id": 4, "status": "0", "docName": "epfChallan" }, { "id": 5, "status": "0", "docName": "epfPaymentReceipt" }, { "id": 6, "status": "0", "docName": "esicEcr" }, { "id": 7, "status": "0", "docName": "esicPaidChallan" }, { "id": 8, "status": "0", "docName": "gstChallan" }, { "id": 9, "status": "0", "docName": "lwfChallan" }, { "id": 10, "status": "0", "docName": "professionTaxChallan" }], "lcid": 4208967, "totalPayable": 81137.76, "other_item": { "gstAmount": 0, "cgstAmount": 0, "igstAmount": 0, "sgstAmount": 0, "payableAmount": 100, "taxableAmount": 100, "chargeableAmount": 100, "serviceChargeAmount": 0 } }, { "lc_uuid": "4928ab4a-6280-5eec-95b3-73a15a377ae3", "invoice_id": 4209137, "ctype": "attendanceBased", "month": 3, "year": 2022, "status": "created", "invoice_number": "11", "invoice_media_id": [546588], "docs": [{ "id": 1, "status": "a", "docName": "attendanceRegister", "autoGenerated": true, "documentAttachment": [546590] }, { "id": 2, "status": "0", "docName": "wageRegister" }, { "id": 3, "status": "0", "docName": "epfEcr" }, { "id": 4, "status": "0", "docName": "epfChallan" }, { "id": 5, "status": "0", "docName": "epfPaymentReceipt" }, { "id": 6, "status": "0", "docName": "esicEcr" }, { "id": 7, "status": "0", "docName": "esicPaidChallan" }, { "id": 8, "status": "0", "docName": "gstChallan" }, { "id": 9, "status": "0", "docName": "lwfChallan" }, { "id": 10, "status": "0", "docName": "professionTaxChallan" }], "lcid": 4208968, "totalPayable": 25610.24, "other_item": { "gstAmount": 0, "cgstAmount": 0, "igstAmount": 0, "sgstAmount": 0, "payableAmount": 100, "taxableAmount": 100, "chargeableAmount": 100, "serviceChargeAmount": 0 } }, { "lc_uuid": "bec994f8-b09d-56c0-8841-37ea87b37296", "invoice_id": 4209154, "ctype": "jobBased", "month": 3, "year": 2022, "status": "created", "invoice_number": "14", "invoice_media_id": [546595], "docs": null, "lcid": 4208967, "totalPayable": 77880, "other_item": { "gstAmount": 0, "cgstAmount": 0, "igstAmount": 0, "sgstAmount": 0, "payableAmount": 0, "taxableAmount": 0, "chargeableAmount": 0, "serviceChargeAmount": 0 } }];
function filterInvoice(invoices, status, docName) {
    let filteredInvoices = [];
    if (status) {
        filteredInvoices = invoices.filter((invoice) => {
            return invoice.status == status;
        })
    }
    if (docName) {
        filteredInvoices = invoices.filter((invoice) => {
            if (!invoice.docs) {
                return true;
            }
            else {
                for (let i = 0; i < invoice.docs.length; i++) {
                    let doc = invoice.docs[i]
                    return (doc.docName == docName && doc.status == '0')
                }
            }
        })
    }
    return filteredInvoices;
}
console.log(filterInvoice(invoices, null, 'attendanceRegister'));